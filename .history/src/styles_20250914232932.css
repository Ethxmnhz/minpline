:root {
  /* Core palette */
  --color-bg:#0d1117;
  --color-bg-alt:#121a24;
  --color-surface:#1c2530;
  --color-surface-alt:#22303b;
  --color-border:#2e3d49;
  --color-border-soft:#22313d;
  --color-text:#f5f7fa;
  --color-text-dim:#b6c2cc;
  --color-accent:#6366f1;
  --color-accent-hover:#5558e6;
  --color-danger:#f87171;
  --color-focus:#3b82f6;

  /* Nutrition specific */
  --color-cal:#ffb347;
  --color-protein:#4ade80;
  --color-carbs:#60a5fa;
  --color-fats:#f472b6;

  /* Typography & spacing */
  --font-stack: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  --fs-xs:.65rem; --fs-sm:.75rem; --fs-base:.85rem; --fs-md:1rem; --fs-lg:1.25rem; --fs-xl:1.5rem;
  --space-1:4px; --space-2:6px; --space-3:8px; --space-4:12px; --space-5:16px; --space-6:20px; --space-7:28px; --space-8:40px;

  /* Effects */
  --radius-sm:6px; --radius:12px; --radius-lg:18px;
  --shadow-sm:0 2px 4px -2px rgba(0,0,0,.4),0 0 0 1px rgba(255,255,255,.03) inset;
  --shadow:0 4px 14px -4px rgba(0,0,0,.55);
  --shadow-glow:0 0 0 1px rgba(99,102,241,.4),0 4px 18px -4px rgba(99,102,241,.45);
  --transition-fast:120ms;
  --transition:180ms;
  --transition-slow:320ms;
}
* { box-sizing: border-box; }
body { font-family:var(--font-stack); background:radial-gradient(circle at 20% 20%, #13202c 0%, #0d1117 70%); color:var(--color-text); line-height:1.4; -webkit-font-smoothing:antialiased; }
.app-shell { display:flex; flex-direction:column; min-height:100dvh; padding-bottom:64px; animation:fadeIn var(--transition-slow) ease; }
.view { flex:1; width:100%; max-width:680px; margin:0 auto; padding:var(--space-4) var(--space-4) 72px; }
.page h1 { font-size:var(--fs-xl); margin:0 0 var(--space-4); font-weight:600; letter-spacing:.5px; }
.card { background:linear-gradient(145deg,var(--color-surface) 0%, var(--color-surface-alt) 100%); padding:var(--space-4) var(--space-5); border-radius:var(--radius); margin-bottom:var(--space-4); border:1px solid var(--color-border); position:relative; overflow:hidden; }
.card:before { content:""; position:absolute; inset:0; pointer-events:none; background:linear-gradient(120deg,rgba(255,255,255,.04),rgba(255,255,255,0)); opacity:0; transition:opacity var(--transition); }
.card:hover:before { opacity:1; }
.summary-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:10px; }
.metric { font-weight:600; margin-top:4px; }
.list { list-style:none; padding:0; margin:6px 0 0; }
.list li { padding:10px 6px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid var(--color-border-soft); font-size:var(--fs-base); gap:8px; transition:background var(--transition-fast), padding-left var(--transition); position:relative; }
.list li:hover { background:rgba(255,255,255,.03); padding-left:12px; }
.list li:last-child { border-bottom:none; }
.small { opacity:.65; font-size:var(--fs-sm); margin-left:4px; }
.nav-bar { position:fixed; bottom:0; left:0; right:0; display:flex; justify-content:space-around; background:rgba(17,24,31,.9); backdrop-filter:blur(10px); padding:6px 4px 12px; border-top:1px solid var(--color-border); box-shadow:0 -2px 6px -2px rgba(0,0,0,.6); }
.nav-bar a { color:var(--color-text-dim); text-decoration:none; font-size:var(--fs-sm); display:flex; flex-direction:column; align-items:center; gap:4px; padding:8px 12px; border-radius:10px; position:relative; transition:color var(--transition), background var(--transition); }
.nav-bar a:hover { color:var(--color-text); background:rgba(255,255,255,.05); }
.nav-bar a.active { background:var(--color-surface); color:var(--color-accent); box-shadow:0 0 0 1px rgba(255,255,255,.05), 0 4px 10px -4px rgba(0,0,0,.6); }
.form-grid { display:grid; gap:var(--space-3); grid-template-columns:repeat(auto-fill,minmax(120px,1fr)); }
.form-grid input { background:#131c26; border:1px solid var(--color-border); color:var(--color-text); padding:10px 12px; border-radius:10px; font-size:var(--fs-sm); transition:border-color var(--transition), background var(--transition); }
.form-grid input:focus { outline:none; border-color:var(--color-focus); background:#16212b; box-shadow:0 0 0 2px rgba(59,130,246,.25); }
.btn { background:#25323d; border:1px solid var(--color-border); color:var(--color-text); padding:10px 14px; border-radius:10px; cursor:pointer; font-size:var(--fs-sm); font-weight:500; letter-spacing:.3px; display:inline-flex; align-items:center; gap:6px; position:relative; transition:background var(--transition), transform var(--transition-fast), box-shadow var(--transition); }
.btn:hover { background:#2d3b47; }
.btn:focus { outline:none; box-shadow:var(--shadow-glow); }
.btn.primary { background:linear-gradient(135deg,var(--color-accent),var(--color-accent-hover)); color:#fff; border:1px solid #5052d9; box-shadow:0 4px 10px -4px rgba(99,102,241,.6); }
.btn.primary:hover { filter:brightness(1.05); }
.btn.tiny { padding:4px 8px; font-size:.6rem; border-radius:6px; }
.btn:active { transform:translateY(2px) scale(.97); }
.btn[disabled] { opacity:.45; cursor:not-allowed; filter:grayscale(.2); }
.progress-bar { height:10px; width:100%; background:#121a23; border-radius:8px; overflow:hidden; margin-top:8px; position:relative; }
.progress-bar .fill { height:100%; background:linear-gradient(90deg,var(--color-accent),var(--color-accent-hover)); transition:width 260ms cubic-bezier(.4,.8,.4,1); box-shadow:0 0 0 1px rgba(255,255,255,.05) inset; }
.row { display:flex; }
.gap { gap:8px; }
.quick-add-overlay { position:fixed; inset:0; background:rgba(0,0,0,.55); display:flex; align-items:flex-end; justify-content:center; z-index:80; backdrop-filter:blur(2px); }
.quick-add-sheet { width:100%; max-width:680px; background:linear-gradient(160deg,var(--color-surface) 0%, var(--color-surface-alt) 100%); border-radius:20px 20px 0 0; padding:18px 18px 48px; box-shadow:0 -6px 32px -10px rgba(0,0,0,.75); max-height:85dvh; overflow-y:auto; animation:slideUp var(--transition-slow) cubic-bezier(.25,.8,.25,1); }
.qa-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.qa-section { margin-top:12px; }
.qa-subtitle { font-size:var(--fs-xs); text-transform:uppercase; letter-spacing:.08em; opacity:.65; margin-bottom:4px; font-weight:600; }

/* Utility */
.fade-in { animation:fadeIn var(--transition) ease; }

@keyframes fadeIn { from { opacity:0; transform:translateY(4px); } to { opacity:1; transform:translateY(0); } }
@keyframes slideUp { from { transform:translateY(40px); opacity:0; } to { transform:translateY(0); opacity:1; } }

/* Potential light theme scaffold (commented for future toggle) */
/*
[data-theme='light'] {
  --color-bg:#f5f7fb; --color-bg-alt:#eef2f6; --color-surface:#ffffff; --color-surface-alt:#f3f6f9;
  --color-text:#1e2732; --color-text-dim:#4a5968; --color-border:#d8e0e7; --color-border-soft:#e3e9ef;
  --color-accent:#4f46e5; --color-accent-hover:#4338ca; --color-focus:#2563eb;
}
*/
@media (min-width:640px){ .nav-bar { position:sticky; bottom:auto; top:0; justify-content:center; gap:12px; } .app-shell { padding-top:60px; padding-bottom:0; } }
